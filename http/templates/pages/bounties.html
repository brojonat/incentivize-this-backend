{{define "title"}}IncentivizeThis{{end}} {{define "description"}}Browse and
claim bounties for creating content across various platforms{{end}} {{define
"head-scripts"}}{{end}} {{define "styles"}} /* Prevent horizontal overflow -
AGGRESSIVE */ * { max-width: 100%; } html, body { overflow-x: hidden !important;
width: 100%; margin: 0; padding: 0; } body, .min-h-screen { overflow-x: hidden
!important; max-width: 100vw !important; width: 100%; } /* Header styling */
.app-header { background-color: rgb(24, 28, 32); padding: 0.75rem 1.5rem;
display: flex; align-items: center; justify-content: space-between; position:
sticky; top: 0; z-index: 100; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3); width:
100%; max-width: 100vw; box-sizing: border-box; } .header-left { display: flex;
align-items: center; gap: 0.75rem; } .app-logo { font-size: 2rem; } .app-title {
color: var(--text-primary); font-size: 1.25rem; font-weight: 500; margin: 0; }
.header-actions { display: flex; align-items: center; gap: 0.75rem; }
.icon-button { width: 40px; height: 40px; border-radius: 50%; background-color:
transparent; border: none; color: var(--text-secondary); display: flex;
align-items: center; justify-content: center; cursor: pointer; transition:
background-color 0.2s ease, color 0.2s ease; } .icon-button:hover {
background-color: rgba(255, 255, 255, 0.1); color: var(--text-primary); }
.icon-button.primary { background-color: rgb(160, 202, 252); color: rgb(0, 50,
88); } .icon-button.primary:hover { background-color: rgb(140, 182, 232); }
.icon-button .material-icons-outlined { font-size: 24px; } /* Bounty card
styling */ .bounty-card { background-color: rgb(24, 28, 32); border-radius:
12px; padding: 1.5rem; margin-bottom: 1.5rem; max-width: 600px; width: 100%;
margin-left: auto; margin-right: auto; transition: background-color 0.2s ease,
transform 0.2s ease, box-shadow 0.2s ease; cursor: pointer; box-sizing:
border-box; } .bounty-card:hover { background-color: var(--bg-elevated);
transform: translateY(-2px); box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3); }
.bounty-card-title { color: var(--text-primary); font-size: 1.5rem; font-weight:
600; margin-bottom: 1rem; line-height: 1.4; } /* Badge styling */ .badge {
display: inline-flex; align-items: center; padding: 0.375rem 0.75rem;
border-radius: 8px; font-size: 0.875rem; font-weight: 600; gap: 0.375rem; }
.badge .material-icons-outlined { font-size: 18px; } .badge-reward {
background-color: rgba(76, 175, 80, 0.2); color: rgb(129, 199, 132); }
.badge-platform { background-color: rgba(255, 255, 255, 0.1); color: rgba(255,
255, 255, 0.9); } .badge-content-type { background-color: rgba(255, 152, 0,
0.2); color: rgb(255, 183, 77); } .badge-remaining { background-color: rgba(255,
255, 255, 0.1); color: rgba(255, 255, 255, 0.7); } .badge-time {
background-color: rgba(159, 201, 253, 0.2); color: rgb(159, 201, 253); } /* Page
sections */ .page-section { padding: 2rem 1rem; } .section-title { font-size:
2rem; font-weight: 600; color: var(--text-primary); margin-bottom: 1.5rem; } /*
Auto-refresh indicator */ @keyframes pulse-dot { 0%, 100% { opacity: 0.4; } 50%
{ opacity: 1; } } .pulse-dot { animation: pulse-dot 2s cubic-bezier(0.4, 0, 0.6,
1) infinite; } /* Modal/Dialog styling */ .modal-overlay { position: fixed;
inset: 0; background-color: rgba(0, 0, 0, 0.7); display: flex; align-items:
center; justify-content: center; z-index: 1000; padding: 2rem 1rem; overflow-y:
auto; } .modal-content { background-color: rgb(24, 28, 32); border-radius: 12px;
padding: 2rem; max-width: 500px; width: calc(100% - 2rem); max-height: 90vh;
overflow-y: auto; overflow-x: hidden; box-shadow: 0 20px 60px rgba(0, 0, 0,
0.5); } .modal-header { display: flex; align-items: center; justify-content:
space-between; margin-bottom: 1.5rem; } .modal-title { font-size: 1.5rem;
font-weight: 600; color: var(--text-primary); margin: 0; } .modal-close { width:
32px; height: 32px; border-radius: 50%; background-color: transparent; border:
none; color: var(--text-secondary); display: flex; align-items: center;
justify-content: center; cursor: pointer; transition: background-color 0.2s
ease, color 0.2s ease; } .modal-close:hover { background-color: rgba(255, 255,
255, 0.1); color: var(--text-primary); } .filter-section { margin-bottom: 2rem;
} .filter-section:last-child { margin-bottom: 0; } .filter-label { display:
block; font-size: 0.875rem; font-weight: 600; color: var(--text-primary);
margin-bottom: 0.75rem; text-transform: uppercase; letter-spacing: 0.5px; }
.filter-checkboxes { display: flex; flex-direction: column; gap: 0.5rem; }
.checkbox-item { display: flex; align-items: center; gap: 0.5rem; padding:
0.5rem; border-radius: 6px; cursor: pointer; transition: background-color 0.2s
ease; } .checkbox-item:hover { background-color: rgba(255, 255, 255, 0.05); }
.checkbox-item input[type="checkbox"] { width: 18px; height: 18px; cursor:
pointer; accent-color: rgb(160, 202, 252); } .checkbox-item label { color:
var(--text-secondary); cursor: pointer; flex: 1; } .filter-range { display:
flex; gap: 1rem; align-items: center; flex-wrap: wrap; } .filter-input { flex:
1; min-width: 0; background-color: rgba(255, 255, 255, 0.05); border: 1px solid
var(--border-default); border-radius: 6px; padding: 0.5rem 0.75rem; color:
var(--text-primary); font-size: 16px; } .filter-input:focus { outline: none;
border-color: rgb(160, 202, 252); background-color: rgba(255, 255, 255, 0.08); }
.filter-actions { display: flex; gap: 1rem; margin-top: 2rem; padding-top:
1.5rem; border-top: 1px solid var(--border-default); } .filter-button { flex: 1;
padding: 0.75rem 1.5rem; border-radius: 8px; font-weight: 600; transition: all
0.2s ease; border: none; font-size: 0.875rem; } .filter-button-primary {
background-color: rgb(160, 202, 252); color: rgb(0, 50, 88); }
.filter-button-primary:hover { background-color: rgb(140, 182, 232); }
.filter-button-secondary { background-color: transparent; border: 1px solid
var(--border-default); color: var(--text-secondary); }
.filter-button-secondary:hover { background-color: rgba(255, 255, 255, 0.05);
border-color: var(--border-hover); } .filter-button:disabled { opacity: 0.5;
cursor: not-allowed; } .filter-button:disabled:hover { background-color:
rgb(160, 202, 252); } /* Mobile responsive styles */ @media (max-width: 768px) {
* { box-sizing: border-box !important; } .modal-content { padding: 1rem; width:
calc(100vw - 2rem) !important; max-width: 500px; } .filter-range {
flex-direction: column; align-items: stretch; } .filter-input { width: 100%; }
.app-header { padding: 0.5rem 0.75rem; margin: 0; width: 100vw; } .app-logo {
font-size: 1.5rem; } .app-title { font-size: 0.9rem; } .header-left { gap:
0.5rem; min-width: 0; flex-shrink: 1; } .header-actions { gap: 0.25rem;
flex-shrink: 0; } .icon-button { width: 36px; height: 36px; flex-shrink: 0; }
.icon-button .material-icons-outlined { font-size: 20px; } main { padding: 1rem
0.75rem !important; max-width: 100vw !important; width: 100vw !important;
box-sizing: border-box !important; margin-left: 0 !important; margin-right: 0
!important; } .bounty-card { padding: 1rem; margin-bottom: 1rem; margin-left: 0;
margin-right: 0; } .bounty-card-title { font-size: 1.125rem; line-height: 1.3; }
.badge { font-size: 0.75rem; padding: 0.25rem 0.5rem; } .badge
.material-icons-outlined { font-size: 16px; } .section-title { font-size:
1.5rem; } .page-section { padding: 1rem 0.75rem; } } @media (max-width: 480px) {
.app-header { padding: 0.5rem; width: 100vw; } .app-title { font-size: 0.75rem;
} .header-actions { gap: 0.25rem; } .icon-button { width: 36px; height: 36px; }
.icon-button .material-icons-outlined { font-size: 18px; } main { padding:
0.75rem 0.5rem !important; width: 100vw !important; margin: 0 !important; }
.bounty-card { padding: 0.75rem; width: 100%; } .modal-content { padding: 1rem;
} } /* Spinner animation */ @keyframes spin { from { transform: rotate(0deg); }
to { transform: rotate(360deg); } } /* AI Harden Button */ .ai-harden-button {
padding: 0.5rem 1rem; background: linear-gradient(135deg, #00c853 0%, #ff6f00
100%); border: none; border-radius: 8px; color: white; font-size: 0.75rem;
font-weight: 700; cursor: pointer; transition: all 0.2s ease; display:
inline-flex; align-items: center; justify-content: center; gap: 0.4rem;
box-shadow: 0 4px 12px rgba(0, 200, 83, 0.4); white-space: nowrap; }
.ai-harden-button:disabled { background: linear-gradient(135deg, #8B5CF6 0%,
#6366F1 100%); opacity: 0.5; cursor: not-allowed; color: white; }
.ai-harden-button:not(:disabled):hover { transform: translateY(-2px)
scale(1.02); box-shadow: 0 6px 20px rgba(0, 230, 118, 0.6); } {{end}} {{define
"content"}}
<!-- App Container - Alpine.js only for modal state -->
<div
  x-data="{
    filterModalOpen: false,
    searchModalOpen: false,
    createBountyModalOpen: false,
    fundBountyModalOpen: false,
    searchQuery: '',
    filters: {
        platforms: [],
        contentTypes: [],
        minReward: '',
        maxReward: ''
    },
    newBounty: {
        requirements: '',
        rewardPerPost: '',
        numberOfBounties: '',
        duration: '30'
    },
    hardeningInProgress: false,
    submittingBounty: false,
    platformFeePercent: 100, // default, will be fetched from config

    // Calendar mode for duration selection
    useCalendar: false,
    bountyEndDate: '',
    calculatedDuration: '',
    calculatedDurationValue: '30d',
    durationError: '',

    // Get timeout timestamp (either from calendar or calculated from duration)
    get timeoutTimestamp() {
        if (this.useCalendar) {
            if (!this.bountyEndDate) return '';
            // bountyEndDate is in local time from datetime-local input
            return new Date(this.bountyEndDate).toISOString();
        } else {
            // Calculate from duration
            const durationDays = parseInt(this.newBounty.duration);
            if (isNaN(durationDays)) return '';
            const endDate = new Date();
            endDate.setDate(endDate.getDate() + durationDays);
            return endDate.toISOString();
        }
    },

    init() {
        // Set default calendar date to 30 days from now
        const defaultDate = new Date();
        defaultDate.setDate(defaultDate.getDate() + 30);
        this.bountyEndDate = defaultDate.toISOString().slice(0, 16);
        this.calculateDuration();

        // Fetch platform fee from config
        fetch('/api/v1/config')
            .then(res => res.json())
            .then(config => {
                this.platformFeePercent = config.platform_fee_percent || 100;
            })
            .catch(err => {
                console.error('Failed to fetch config:', err);
                this.platformFeePercent = 100; // fallback to 100%
            });
    },
    clearNewBounty() {
        this.newBounty = {
            requirements: '',
            rewardPerPost: '',
            numberOfBounties: '',
            duration: '30'
        };
    },
    get totalCost() {
        const reward = parseFloat(this.newBounty.rewardPerPost) || 0;
        const count = parseInt(this.newBounty.numberOfBounties) || 0;
        const subtotal = reward * count;
        const fee = subtotal * (this.platformFeePercent / 100);
        return {
            subtotal: subtotal,
            fee: fee,
            total: subtotal + fee
        };
    },

    get minEndDate() {
        // Minimum date is 24 hours from now
        const minDate = new Date();
        minDate.setHours(minDate.getHours() + 24);
        return minDate.toISOString().slice(0, 16);
    },

    calculateDuration() {
        if (!this.bountyEndDate) {
            this.durationError = '';
            this.calculatedDuration = '';
            this.calculatedDurationValue = '30d';
            return;
        }

        const now = new Date();
        const endDate = new Date(this.bountyEndDate);
        const diffMs = endDate - now;
        const diffMinutes = Math.floor(diffMs / (1000 * 60));
        const diffHours = Math.floor(diffMinutes / 60);
        const diffDays = Math.floor(diffHours / 24);

        // Validate: must be at least 24 hours in the future
        if (diffHours < 24) {
            this.durationError = 'End date must be at least 24 hours from now';
            this.calculatedDuration = '';
            this.calculatedDurationValue = '';
            return;
        }

        // Clear error
        this.durationError = '';

        // Calculate duration with minutes precision
        const remainingHours = diffHours % 24;
        const remainingMinutes = diffMinutes % 60;

        if (diffDays >= 1) {
            // Show as days
            this.calculatedDuration = `${diffDays} day${diffDays !== 1 ? 's' : ''}`;
            this.calculatedDurationValue = `${diffDays}d`;

            // Add hours and minutes if present
            if (remainingHours > 0 || remainingMinutes > 0) {
                const parts = [];
                if (remainingHours > 0) {
                    parts.push(`${remainingHours} hour${remainingHours !== 1 ? 's' : ''}`);
                    this.calculatedDurationValue += `${remainingHours}h`;
                }
                if (remainingMinutes > 0) {
                    parts.push(`${remainingMinutes} minute${remainingMinutes !== 1 ? 's' : ''}`);
                    this.calculatedDurationValue += `${remainingMinutes}m`;
                }
                this.calculatedDuration += `, ${parts.join(', ')}`;
            }
        } else {
            // Less than 1 day, use hours and minutes
            const parts = [];
            let durationValue = '';

            if (diffHours > 0) {
                parts.push(`${diffHours} hour${diffHours !== 1 ? 's' : ''}`);
                durationValue += `${diffHours}h`;
            }
            if (remainingMinutes > 0) {
                parts.push(`${remainingMinutes} minute${remainingMinutes !== 1 ? 's' : ''}`);
                durationValue += `${remainingMinutes}m`;
            }

            this.calculatedDuration = parts.join(', ');
            this.calculatedDurationValue = durationValue;
        }
    },

    async hardenRequirements() {
        if (!this.newBounty.requirements || this.hardeningInProgress) return;
        this.hardeningInProgress = true;
        try {
            const response = await fetch('/api/v1/bounties/harden', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ requirements: this.newBounty.requirements })
            });
            if (!response.ok) throw new Error('Failed to harden requirements');
            const data = await response.json();
            this.newBounty.requirements = data.hardened_requirements || data.requirements;
        } catch (err) {
            console.error('Failed to harden requirements:', err);
            alert('Failed to enhance requirements. Please try again.');
        } finally {
            this.hardeningInProgress = false;
        }
    },
    handleBountyFormSuccess() {
        const refreshEl = document.getElementById('bounty-list-container');
        if (refreshEl) htmx.trigger(refreshEl, 'refresh');
        const modalTitle = document.querySelector('.modal-title');
        if (modalTitle) modalTitle.textContent = 'Fund Bounty';
    },
    performSearch() {
        const container = document.getElementById('bounty-list-container');
        if (!container) return;

        // Build query params
        const params = new URLSearchParams();
        if (this.searchQuery) params.append('search', this.searchQuery);

        // Update HTMX URL and trigger refresh
        const url = '/partials/bounty-list' + (params.toString() ? '?' + params.toString() : '');
        container.setAttribute('hx-get', url);
        htmx.trigger(container, 'refresh');

        // Close modal
        this.searchModalOpen = false;
    },
    clearSearch() {
        this.searchQuery = '';
        const container = document.getElementById('bounty-list-container');
        if (!container) return;

        // Reset to default URL
        container.setAttribute('hx-get', '/partials/bounty-list');
        htmx.trigger(container, 'refresh');
    },
    applyFilters() {
        const container = document.getElementById('bounty-list-container');
        if (!container) return;

        // Build query params
        const params = new URLSearchParams();

        // Add platform filters
        this.filters.platforms.forEach(p => params.append('platform', p));

        // Add content type filters
        this.filters.contentTypes.forEach(c => params.append('contentType', c));

        // Add reward filters
        if (this.filters.minReward) params.append('minReward', this.filters.minReward);
        if (this.filters.maxReward) params.append('maxReward', this.filters.maxReward);

        // Update HTMX URL and trigger refresh
        const url = '/partials/bounty-list' + (params.toString() ? '?' + params.toString() : '');
        container.setAttribute('hx-get', url);
        htmx.trigger(container, 'refresh');

        // Close modal
        this.filterModalOpen = false;
    },
    clearFilters() {
        this.filters = {
            platforms: [],
            contentTypes: [],
            minReward: '',
            maxReward: ''
        };
        const container = document.getElementById('bounty-list-container');
        if (!container) return;

        // Reset to default URL
        container.setAttribute('hx-get', '/partials/bounty-list');
        htmx.trigger(container, 'refresh');
    }
}"
  class="min-h-screen"
>
  <!-- App Header -->
  <header class="app-header">
    <div class="header-left">
      <span class="app-logo">ðŸ¥•</span>
      <h1 class="app-title">IncentivizeThis</h1>
    </div>
    <div class="header-actions">
      <button
        class="icon-button primary"
        title="Create Bounty"
        @click="createBountyModalOpen = true; searchModalOpen = false; filterModalOpen = false; clearNewBounty(); $nextTick(() => { htmx.ajax('GET', '/partials/create-bounty-form', {target: '#create-bounty-form-container', swap: 'innerHTML'}); })"
      >
        <span class="material-icons-outlined">add</span>
      </button>
      <button
        class="icon-button"
        title="About"
        onclick="window.location.href='/about'"
      >
        <span class="material-icons-outlined">info</span>
      </button>
      <button
        class="icon-button"
        title="Search Bounties"
        @click="searchModalOpen = true; filterModalOpen = false; createBountyModalOpen = false"
      >
        <span class="material-icons-outlined">search</span>
      </button>
      <button
        class="icon-button"
        title="Filter Bounties"
        @click="filterModalOpen = true; searchModalOpen = false; createBountyModalOpen = false"
      >
        <span class="material-icons-outlined">tune</span>
      </button>
    </div>
  </header>

  <!-- Main Content -->
  <main class="mx-auto" style="max-width: 1200px; padding: 2rem 1rem">
    <!-- Active Bounties Section (HTMX-powered) -->
    <div
      id="bounty-list-container"
      hx-get="/partials/bounty-list"
      hx-trigger="load, every 5s, refresh from:body"
      hx-swap="innerHTML"
    >
      <!-- Loading state shown until HTMX loads content -->
      <div class="flex flex-col items-center justify-center py-20">
        <div
          class="w-12 h-12 border-4 border-primary-700 border-t-transparent rounded-full animate-spin"
        ></div>
        <p class="mt-4 text-gray-600">Loading bounties...</p>
      </div>
    </div>

    <!-- Bottom Spacing -->
    <div class="h-16"></div>
  </main>

  <!-- Search Modal -->
  <div
    x-show="searchModalOpen"
    class="modal-overlay"
    @click.self="searchModalOpen = false"
    @keydown.escape.window="searchModalOpen = false"
    style="background-color: rgba(0, 0, 0, 0.7) !important"
  >
    <div class="modal-content" style="max-width: 600px">
      <div class="modal-header">
        <h2 class="modal-title">Search Bounties</h2>
        <button class="modal-close" @click="searchModalOpen = false">
          <span class="material-icons-outlined">close</span>
        </button>
      </div>

      <!-- Search Input -->
      <div class="filter-section">
        <label class="filter-label">Search with natural language</label>
        <div style="position: relative">
          <input
            type="text"
            class="filter-input"
            placeholder="e.g., 'reddit posts about tech'"
            x-model="searchQuery"
            @keydown.escape="searchModalOpen = false"
            style="padding-right: 3rem; width: 100%"
          />
          <button
            x-show="searchQuery"
            @click="clearSearch()"
            style="
              position: absolute;
              right: 0.5rem;
              top: 50%;
              transform: translateY(-50%);
              background: none;
              border: none;
              color: var(--text-secondary);
              cursor: pointer;
              padding: 0.5rem;
              display: flex;
              align-items: center;
              justify-content: center;
            "
          >
            <span class="material-icons-outlined" style="font-size: 20px"
              >close</span
            >
          </button>
        </div>
      </div>

      <!-- Quick Search Tips -->
      <div class="filter-section" style="margin-bottom: 0">
        <label class="filter-label" style="margin-bottom: 0.5rem"
          >Example Searches</label
        >
        <div
          style="
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.6;
          "
        >
          <p style="margin-bottom: 0.5rem">
            â€¢
            <span style="color: var(--text-primary)"
              >"twitter posts about gaming"</span
            >
          </p>
          <p style="margin-bottom: 0.5rem">
            â€¢
            <span style="color: var(--text-primary)"
              >"youtube videos with high rewards"</span
            >
          </p>
          <p style="margin-bottom: 0.5rem">
            â€¢
            <span style="color: var(--text-primary)"
              >"reddit comments about technology"</span
            >
          </p>
          <p>
            â€¢
            <span style="color: var(--text-primary)"
              >"content about restaurants"</span
            >
          </p>
        </div>
      </div>

      <!-- Actions -->
      <div class="filter-actions">
        <button
          class="filter-button filter-button-primary"
          @click="performSearch()"
          style="width: 100%"
        >
          Search
        </button>
      </div>
    </div>
  </div>

  <!-- Filter Modal -->
  <div
    x-show="filterModalOpen"
    class="modal-overlay"
    @click.self="filterModalOpen = false"
    @keydown.escape.window="filterModalOpen = false"
    style="background-color: rgba(0, 0, 0, 0.7) !important"
  >
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Filter Bounties</h2>
        <button class="modal-close" @click="filterModalOpen = false">
          <span class="material-icons-outlined">close</span>
        </button>
      </div>

      <!-- Platform Filter -->
      <div class="filter-section">
        <label class="filter-label">Platform</label>
        <div class="filter-checkboxes">
          <div class="checkbox-item">
            <input
              type="checkbox"
              id="platform-reddit"
              value="reddit"
              x-model="filters.platforms"
            />
            <label for="platform-reddit">Reddit</label>
          </div>
          <div class="checkbox-item">
            <input
              type="checkbox"
              id="platform-youtube"
              value="youtube"
              x-model="filters.platforms"
            />
            <label for="platform-youtube">YouTube</label>
          </div>
          <div class="checkbox-item">
            <input
              type="checkbox"
              id="platform-twitter"
              value="twitter"
              x-model="filters.platforms"
            />
            <label for="platform-twitter">Twitter</label>
          </div>
          <div class="checkbox-item">
            <input
              type="checkbox"
              id="platform-hackernews"
              value="hackernews"
              x-model="filters.platforms"
            />
            <label for="platform-hackernews">HackerNews</label>
          </div>
          <div class="checkbox-item">
            <input
              type="checkbox"
              id="platform-instagram"
              value="instagram"
              x-model="filters.platforms"
            />
            <label for="platform-instagram">Instagram</label>
          </div>
          <div class="checkbox-item">
            <input
              type="checkbox"
              id="platform-twitch"
              value="twitch"
              x-model="filters.platforms"
            />
            <label for="platform-twitch">Twitch</label>
          </div>
          <div class="checkbox-item">
            <input
              type="checkbox"
              id="platform-tripadvisor"
              value="tripadvisor"
              x-model="filters.platforms"
            />
            <label for="platform-tripadvisor">TripAdvisor</label>
          </div>
          <div class="checkbox-item">
            <input
              type="checkbox"
              id="platform-bluesky"
              value="bluesky"
              x-model="filters.platforms"
            />
            <label for="platform-bluesky">Bluesky</label>
          </div>
        </div>
      </div>

      <!-- Content Type Filter -->
      <div class="filter-section">
        <label class="filter-label">Content Type</label>
        <div class="filter-checkboxes">
          <div class="checkbox-item">
            <input
              type="checkbox"
              id="type-post"
              value="post"
              x-model="filters.contentTypes"
            />
            <label for="type-post">Post</label>
          </div>
          <div class="checkbox-item">
            <input
              type="checkbox"
              id="type-comment"
              value="comment"
              x-model="filters.contentTypes"
            />
            <label for="type-comment">Comment</label>
          </div>
          <div class="checkbox-item">
            <input
              type="checkbox"
              id="type-video"
              value="video"
              x-model="filters.contentTypes"
            />
            <label for="type-video">Video</label>
          </div>
          <div class="checkbox-item">
            <input
              type="checkbox"
              id="type-review"
              value="review"
              x-model="filters.contentTypes"
            />
            <label for="type-review">Review</label>
          </div>
        </div>
      </div>

      <!-- Reward Range Filter -->
      <div class="filter-section">
        <label class="filter-label">Reward Range (USD)</label>
        <div class="filter-range">
          <input
            type="number"
            class="filter-input"
            placeholder="Min"
            step="0.01"
            min="0"
            x-model="filters.minReward"
          />
          <span style="color: var(--text-secondary)">â€”</span>
          <input
            type="number"
            class="filter-input"
            placeholder="Max"
            step="0.01"
            min="0"
            x-model="filters.maxReward"
          />
        </div>
      </div>

      <!-- Actions -->
      <div class="filter-actions">
        <button
          class="filter-button filter-button-secondary"
          @click="clearFilters()"
        >
          Clear All
        </button>
        <button
          class="filter-button filter-button-primary"
          @click="applyFilters()"
        >
          Apply Filters
        </button>
      </div>
    </div>
  </div>

  {{template "create-bounty-modal" .}}

  <!-- Fund Bounty Modal -->
  <div
    x-show="fundBountyModalOpen"
    class="modal-overlay"
    @click.self="fundBountyModalOpen = false"
    @keydown.escape.window="fundBountyModalOpen = false"
    style="background-color: rgba(0, 0, 0, 0.7) !important"
  >
    <div class="modal-content" style="max-width: 600px">
      <div class="modal-header">
        <h2 class="modal-title">Fund Bounty</h2>
        <button class="modal-close" @click="fundBountyModalOpen = false">
          <span class="material-icons-outlined">close</span>
        </button>
      </div>

      <div id="funding-qr-container">
        <div style="text-align: center; padding: 2rem">
          <div
            class="w-12 h-12 border-4 border-primary-700 border-t-transparent rounded-full animate-spin"
            style="margin: 0 auto"
          ></div>
          <p style="margin-top: 1rem; color: var(--text-secondary)">
            Loading payment QR code...
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
{{end}} {{define "scripts"}} const style = document.createElement("style");
style.innerHTML = "[x-cloak] { display: none !important; }";
document.head.appendChild(style); {{end}}
